<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.whalegoods.mapper.GoodsAdsTopMapper">

  <resultMap id="BaseResultMap" type="com.whalegoods.entity.response.ResGoodsAdsTop">
    <result column="goods_code" jdbcType="VARCHAR" property="goodsCode" />
    <result column="big_pic_url" jdbcType="VARCHAR" property="bigPicUrl" />
    <result column="tiny_pic_url" jdbcType="VARCHAR" property="tinyPicUrl" />
  </resultMap>
  
    <select id="selectAdsTopList" parameterType="java.util.Map" resultMap="BaseResultMap">
    SELECT 
    c.goods_code,
    a.big_pic_url,
    a.tiny_pic_url 
    FROM goods_ads_top a INNER JOIN  device_road b ON a.device_road_id=b.id 
    INNER JOIN goods_sku c ON b.goods_sku_id=c.id
    INNER JOIN device d ON  d.id=b.device_id
    WHERE d.device_id_jp=#{deviceIdJp} AND d.device_id_supp=#{deviceIdSupp}
  </select>

</mapper>